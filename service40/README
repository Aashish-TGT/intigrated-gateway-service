# âš™ï¸ Smart IoT Device Compatibility Service

A Node.js-based service that connects smart devices (like EV chargers, kiosks, or fuel dispensers) to a backend system using MQTT and WebSocket. It supports device authorization, transaction generation, and real-time dashboard updates.

---

## ğŸš€ Purpose

- Bridge data from smart IoT devices to cloud services
- Format and push transaction data in real-time
- Provide a live dashboard using WebSocket
- Built for EV-first, tolling, and automated commerce systems

---

## ğŸ§± Tech Stack

- **Node.js** (Express.js)
- **MQTT** (via `mqtt` package)
- **WebSocket** (via `ws`)
- **In-memory DB** (simulated using arrays)
- **Dashboard** (Vanilla HTML + WebSocket)

---

## ğŸ“ Project Structure
smart-iot-device-service/
â”œâ”€â”€ controllers/ # Device & transaction handlers
â”œâ”€â”€ routes/ # API routes
â”œâ”€â”€ services/ # MQTT subscriber service
â”œâ”€â”€ utils/ # Auth middleware
â”œâ”€â”€ models/ # Simulated in-memory database
â”œâ”€â”€ public/ # WebSocket-enabled dashboard
â”œâ”€â”€ scripts/ # Mock EV data publisher
â”œâ”€â”€ .env # Config values (port, token, etc.)
â”œâ”€â”€ .gitignore
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â””â”€â”€ server.js


---

## ğŸ“¦ Installation

```bash
git clone https://github.com/sumit-TGT/smart-iot-device-service.git
cd smart-iot-device-service
npm install

âš™ï¸ Environment Variables
Create a .env file in the root:

PORT=3000
API_TOKEN=securetoken123
MQTT_BROKER=mqtt://broker.hivemq.com

ğŸ§ª Running the Project
Start the backend + dashboard:

 npm start
 Open: http://localhost:3000/dashboard.html

 Run mock EV charger publisher:

  npm run mock:ev
It sends random EV charging transactions to the MQTT topic ev/charger/transactions.

ğŸ“Š Features
âœ… Device authorization endpoint (/api/devices/authorize)

âœ… Transaction generation endpoint (/api/transactions)

âœ… MQTT Subscriber: listens for EV charger data

âœ… WebSocket Dashboard: see live receipts appear instantly

âœ… Custom fields like mileage, meter, and unit


ğŸ” API Auth
All POST/GET to /api/* routes require this header:
Authorization: securetoken123


ğŸ§‘â€ğŸ’» Author
Sumit Kumar
[Terra Grid Tech]











